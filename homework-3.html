<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Homework 3</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="css/worg.css" type="text/css" media="screen" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012  Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
<a href="index.html">Home</a> &nbsp; &nbsp;
          <!-- Plupper Button -->
          <div id="plupperButton" style="display: inline;"></div>
          <!-- End of Plupper Button Code -->
</div>
<div id="content">
<h1 class="title">Homework 3</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Task (100 pts)</a></li>
<li><a href="#sec-2">Extra credit (20 pts)</a></li>
<li><a href="#sec-3">Example code</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Task (100 pts)</h2>
<div class="outline-text-2" id="text-1">
<p>
Code the minimax algorithm, as applied to connect-4. Here are the
rules of connect-4:
</p>

<ul class="org-ul">
<li>The board is 6 rows by 7 columns.
</li>

<li>Two players, say H (human) and C (computer).
</li>

<li>On a player's move, he/she/it can choose to put a token in one of
the 7 columns. The token falls to the lowest row that is
unoccupied in that column. A column is full and unplayable when it
has all rows filled (6 tokens).
</li>
</ul>

<p>
Winning condition:
</p>

<ul class="org-ul">
<li>A player wins when he/she/it gets four tokens in a row:
diagonally, vertically, or horizontally.
</li>

<li>A tie occurs when there are no free moves and neither player won.
</li>
</ul>

<p>
Be sure to provide a simple user interface. Ask the human for a move,
then show the board after the move. You can choose if the human or
computer moves first.
</p>

<p>
<b>Note:</b> This game has a huge search space. You cannot <i>just</i> use
minimax, and even alpha-beta pruning won't help you enough. You have
to also <b>limit the search depth</b>. Recall that minimax is a recursive
algorithm. You can keep track of the depth of your recursive calls by
giving the depth as an input to each recursive function call. Each
call gives the current depth + 1. Add a depth-limit parameter, or
hard-code one. I found that a depth-limit of 6 works ok. Don't call
the next recursive function if the depth would exceed this
depth-limit.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Extra credit (20 pts)</h2>
<div class="outline-text-2" id="text-2">
<p>
Code the alpha-beta pruning modification of the minimax algorithm
(instead of just the minimax algorithm) for the same task described
above. This extra credit gives you 120 pts overall. You do not have to
code the game twice.
</p>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Example code</h2>
<div class="outline-text-2" id="text-3">
<p>
To help you focus more on the interesting bits, here is some C++ code
for checking diagonals (only down-left and down-right are required
since up-right and up-left are equivalent), printing the grid, etc.
</p>

<div class="org-src-container">

<pre class="src src-c++"><span style="color: #004dd0; background-color: #ffffff;">char</span> <span style="color: #000000; background-color: #ffffff;">grid</span>[6][7];

<span style="color: #004dd0; background-color: #ffffff;">void</span> <span style="color: #000000; background-color: #ffffff; text-decoration: underline;">initializeGrid</span>()
{
    <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">i</span> = 0; i &lt; 6; i++)
    {
        <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">j</span> = 0; j &lt; 7; j++)
        {
            grid[i][j] = <span style="color: #670088; background-color: #ffffff; font-style: italic;">' '</span>;
        }
    }
}

<span style="color: #004dd0; background-color: #ffffff;">void</span> <span style="color: #000000; background-color: #ffffff; text-decoration: underline;">printGrid</span>()
{
    <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">i</span> = 0; i &lt; 6; i++)
    {
        <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">j</span> = 0; j &lt; 7; j++)
        {
            cout &lt;&lt; <span style="color: #670088; background-color: #ffffff; font-style: italic;">"--"</span>;
        }
        cout &lt;&lt; <span style="color: #670088; background-color: #ffffff; font-style: italic;">"-"</span> &lt;&lt; endl;

        <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">j</span> = 0; j &lt; 7; j++)
        {
            cout &lt;&lt; <span style="color: #670088; background-color: #ffffff; font-style: italic;">"|"</span> &lt;&lt; grid[i][j];
        }
        cout &lt;&lt; <span style="color: #670088; background-color: #ffffff; font-style: italic;">"|"</span> &lt;&lt; endl;
    }
    <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">j</span> = 0; j &lt; 7; j++)
    {
        cout &lt;&lt; <span style="color: #670088; background-color: #ffffff; font-style: italic;">"--"</span>;
    }
    cout &lt;&lt; <span style="color: #670088; background-color: #ffffff; font-style: italic;">"-"</span> &lt;&lt; endl;
    <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">j</span> = 1; j &lt;= 7; j++)
    {
        cout &lt;&lt; <span style="color: #670088; background-color: #ffffff; font-style: italic;">" "</span> &lt;&lt; j;
    }
    cout &lt;&lt; endl;
}

<span style="color: #004dd0; background-color: #ffffff;">bool</span> <span style="color: #000000; background-color: #ffffff; text-decoration: underline;">checkDownLeft</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">col</span>, <span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">row</span>, <span style="color: #004dd0; background-color: #ffffff;">char</span> <span style="color: #000000; background-color: #ffffff;">player</span>)
{
    <span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">count</span> = 0;
    <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">i</span> = row, <span style="color: #000000; background-color: #ffffff;">j</span> = col; i &lt; 6 &amp;&amp; j &gt;= 0; i++, j--)
    {
        <span style="color: #004dd0; background-color: #ffffff;">if</span>(grid[i][j] == player) count++;
        <span style="color: #004dd0; background-color: #ffffff;">else</span> count = 0;

        <span style="color: #004dd0; background-color: #ffffff;">if</span>(count == 4) <span style="color: #004dd0; background-color: #ffffff;">break</span>;
    }
    <span style="color: #004dd0; background-color: #ffffff;">return</span> (count == 4);
}

<span style="color: #004dd0; background-color: #ffffff;">bool</span> <span style="color: #000000; background-color: #ffffff; text-decoration: underline;">checkDownRight</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">col</span>, <span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">row</span>, <span style="color: #004dd0; background-color: #ffffff;">char</span> <span style="color: #000000; background-color: #ffffff;">player</span>)
{
    <span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">count</span> = 0;
    <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">i</span> = row, <span style="color: #000000; background-color: #ffffff;">j</span> = col; i &lt; 6 &amp;&amp; j &lt; 7; i++, j++)
    {
        <span style="color: #004dd0; background-color: #ffffff;">if</span>(grid[i][j] == player) count++;
        <span style="color: #004dd0; background-color: #ffffff;">else</span> count = 0;

        <span style="color: #004dd0; background-color: #ffffff;">if</span>(count == 4) <span style="color: #004dd0; background-color: #ffffff;">break</span>;
    }
    <span style="color: #004dd0; background-color: #ffffff;">return</span> (count == 4);
}

<span style="color: #004dd0; background-color: #ffffff;">bool</span> <span style="color: #000000; background-color: #ffffff; text-decoration: underline;">checkHorizontal</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">row</span>, <span style="color: #004dd0; background-color: #ffffff;">char</span> <span style="color: #000000; background-color: #ffffff;">player</span>)
{
    <span style="color: #00005d; background-color: #ffffff; font-style: italic;">// </span><span style="color: #00005d; background-color: #ffffff; font-style: italic;">omitted</span>
}

<span style="color: #004dd0; background-color: #ffffff;">bool</span> <span style="color: #000000; background-color: #ffffff; text-decoration: underline;">checkVertical</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">col</span>, <span style="color: #004dd0; background-color: #ffffff;">char</span> <span style="color: #000000; background-color: #ffffff;">player</span>)
{
    <span style="color: #00005d; background-color: #ffffff; font-style: italic;">// </span><span style="color: #00005d; background-color: #ffffff; font-style: italic;">omitted</span>
}

<span style="color: #004dd0; background-color: #ffffff;">bool</span> <span style="color: #000000; background-color: #ffffff; text-decoration: underline;">won</span>(<span style="color: #004dd0; background-color: #ffffff;">char</span> <span style="color: #000000; background-color: #ffffff;">player</span>)
{
    <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">j</span> = 0; j &lt; 7; j++)
    {
        <span style="color: #004dd0; background-color: #ffffff;">if</span>(checkVertical(j, player)) <span style="color: #004dd0; background-color: #ffffff;">return</span> <span style="color: #0000f1; background-color: #ffffff;">true</span>;
    }
    <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">i</span> = 0; i &lt; 6; i++)
    {
        <span style="color: #004dd0; background-color: #ffffff;">if</span>(checkHorizontal(i, player)) <span style="color: #004dd0; background-color: #ffffff;">return</span> <span style="color: #0000f1; background-color: #ffffff;">true</span>;

        <span style="color: #004dd0; background-color: #ffffff;">for</span>(<span style="color: #004dd0; background-color: #ffffff;">int</span> <span style="color: #000000; background-color: #ffffff;">j</span> = 0; j &lt; 7; j++)
        {
            <span style="color: #004dd0; background-color: #ffffff;">if</span>(checkDownLeft(j, i, player)) <span style="color: #004dd0; background-color: #ffffff;">return</span> <span style="color: #0000f1; background-color: #ffffff;">true</span>;
            <span style="color: #004dd0; background-color: #ffffff;">if</span>(checkDownRight(j, i, player)) <span style="color: #004dd0; background-color: #ffffff;">return</span> <span style="color: #0000f1; background-color: #ffffff;">true</span>;
        }
    }
    <span style="color: #004dd0; background-color: #ffffff;">return</span> <span style="color: #0000f1; background-color: #ffffff;">false</span>;
}
</pre>
</div>

<div style="font-size: 80%; clear: both;">
<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">CSE 3521 material</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://cse3521.artifice.cc" property="cc:attributionName" rel="cc:attributionURL">Joshua Eckroth</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. Source code for this website available at <a href="https://github.com/joshuaeckroth/cse3521-website">GitHub</a>.
</div>

<!-- Plupper Tracking Code -->
<script src="https://www.google.com/jsapi"></script>
<script type="text/javascript"
    src="https://static.plupper.com/js/plupper.js"></script>
<script type="text/javascript">
    plupper.init("joshuaeckroth@plupper.com");
    plupper.enableCobrowsing();
</script>
<!-- End of Plupper Tracking Code -->
</div>
</div>
</div>
</body>
</html>
